<body>
<section id="admin" style="margin-left: 80px">
  <div class="row row-admin">
    <div class="col-9">
      <div class="card">
        <div class="test" *ngIf="moviesPage$ | async as moviesPage">
          <table mat-table [dataSource]="moviesPage.content" class="table">
            <ng-container matColumnDef="title" style="margin-bottom: 3px">
              <th mat-header-cell *matHeaderCellDef>
                title
              </th>
              <td mat-cell *matCellDef="let element">
                {{element.title.toUpperCase()}}
              </td>
            </ng-container>
            <ng-container matColumnDef="edytuj">
              <th mat-header-cell *matHeaderCellDef>
                edytuj
              </th>
              <td mat-cell *matCellDef="let element">
                <button class="button-admin" text-white (click)="edit(element)" mat-raised-button>
                  Edytuj
                </button>
              </td>
            </ng-container>
            <div class="test" *ngIf="user$ | async" matColumnDef="updateUser">
            </div>
            <ng-container matColumnDef="usuń">
              <th mat-header-cell *matHeaderCellDef>
                Usuń
              </th>
              <td mat-cell *matCellDef="let element">
                <button class="button-admin" (click)="remove(element)" mat-raised-button>
                  Usuń
                </button>
              </td>
            </ng-container>

            <ng-container matColumnDef="dodaj">
              <th mat-header-cell *matHeaderCellDef>
                Dodaj
              </th>
              <td mat-cell *matCellDef="let element">
                <button class="button-admin" mat-raised-button routerLink="/repertoire/{{element.id}}">
                  Dodaj
                </button>
              </td>
            </ng-container>

            <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
            <tr mat-row *matRowDef="let row; columns: displayedColumns;"></tr>
          </table>
          <mat-paginator [length]="moviesPage.totalElements" [pageSize]="moviesPage.size" [pageSizeOptions]="[5,10,25]"
                         (page)="changePage($event)">

          </mat-paginator>
        </div>
      </div>
    </div>

    <div class="col-md-2 block">
      <div class="card text-center bg-dark text-white mb-3">
        <div class="card-body">
          <h3>Film</h3>
          <h4 class="display-4">
            <i class="fas fa-pencil-alt"></i>
          </h4>
          <button (click)="addMovie()" class="btn btn-outline-light btn-sm">
            Dodaj
          </button>
        </div>
      </div>
      <div class="card text-center bg-dark text-white mb-4">
        <div class="card-body">
          <h3>Użytkownicy</h3>
          <h4 class="display-4">
            <i class="fas fa-users"></i>
          </h4>
          <a routerLink="/users" class="btn btn-outline-light btn-sm">Zobacz</a>
        </div>
      </div>
    </div>
  </div>
</section>
</body>

