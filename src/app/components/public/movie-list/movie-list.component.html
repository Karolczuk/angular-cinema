<div class="container font container-space">
  <p class="title-movie-list">Repertuar</p>
</div>
<div class="container movie-search">
  <mat-form-field>
    <input #searchInput matInput placeholder="film">
  </mat-form-field>
  <button mat-flat-button class="bg-dark my-search-button" (click)="search(searchInput.value)">Szukaj filmu</button>
</div>
<div class="col-9 space" *ngIf="moviesPage$ | async  as moviesPage">
  <div *ngIf="repertoiresList$ | async as repertoiresList">
    <table class="myTable" mat-table [dataSource]="moviesPage.content">
      <ng-container matColumnDef="title">
        <th mat-header-cell *matHeaderCellDef>
          Co gramy?
        </th>
        <td class='title po' mat-cell *matCellDef="let element">
          {{element.title}}
        </td>
      </ng-container>

      <!--    DODAN-->
      <ng-container matColumnDef="hours">
        <th class="size" mat-header-cell *matHeaderCellDef>
          Godziny
        </th>
        <td class='title po' mat-cell *matCellDef="let element">
          <div *ngFor="let repertoire of repertoiresList">

            <div *ngIf="repertoire.movieId== element.id">
              <!--           {{repertoire.time}}-->
              <div class="raw button-row">
                <button (click)="router.navigate(['movie',element.id, repertoire.id])"
                        class="button-time float-left">{{repertoire.time | time}}</button>
              </div>
            </div>
          </div>
        </td>
      </ng-container>

      <ng-container *ngIf="token$ | async" matColumnDef="reservation">
        <th class="reservation-siz " mat-header-cell *matHeaderCellDef>
          Rezerwacja
        </th>
        <td mat-cell *matCellDef="let element">
          <button mat-button (click)="reserve(element)">
            <mat-icon>add_shopping_cart</mat-icon>
          </button>
        </td>
      </ng-container>
      <ng-container matColumnDef="films">
        <!-- matColumnDef - mowi jaka kolumna ma byc wyswetlana powizazna z tablcia strigow w kompoencie-->
        <th class="video-title" mat-header-cell *matHeaderCellDef>
          Zwiastun
        </th>
        <td class="video" mat-cell *matCellDef="let element">
          <a routerLink="/movie/{{element.id}}">
            <mat-icon class="play">play_circle_outline</mat-icon>
          </a>
        </td>
      </ng-container>
      <tr mat-header-row *matHeaderRowDef="displayedColumns">
      </tr>
      <tr mat-row *matRowDef="let row; columns:displayedColumns;">
      </tr>
    </table>
    <mat-paginator [length]="moviesPage.totalElements" [pageSize]="moviesPage.size" [pageSizeOptions]="[5,10,25]"
                   (page)="changePage($event)">

    </mat-paginator>
  </div>
</div>

<!--<div class="col-9 space" *ngIf="moviesPage$ | async  as moviesPage">-->
<!--  <div *ngIf="repertoiresList$ | async as repertoiresList">-->
<!--    <mat-table [dataSource]="moviesPage.content">-->

<!--      &lt;!&ndash; ID Column &ndash;&gt;-->
<!--      <ng-container matColumnDef="title">-->
<!--        <mat-header-cell *matHeaderCellDef mat-sort-header> ID</mat-header-cell>-->
<!--        <mat-cell *matCellDef="let row" data-label="id"> {{row.cnt}} </mat-cell>-->
<!--      </ng-container>-->

<!--      &lt;!&ndash; Progress Column &ndash;&gt;-->
<!--      <ng-container matColumnDef="progress">-->
<!--        <mat-header-cell *matHeaderCellDef mat-sort-header> Progress</mat-header-cell>-->
<!--        <mat-cell *matCellDef="let row" data-label="progress"> {{row.progress}}%</mat-cell>-->
<!--      </ng-container>-->

<!--      &lt;!&ndash; Name Column &ndash;&gt;-->
<!--      <ng-container matColumnDef="name">-->
<!--        <mat-header-cell *matHeaderCellDef mat-sort-header> Name</mat-header-cell>-->
<!--        <mat-cell *matCellDef="let row" data-label="name"> {{row.name}} </mat-cell>-->
<!--      </ng-container>-->

<!--      &lt;!&ndash; Color Column &ndash;&gt;-->
<!--      <ng-container matColumnDef="color">-->
<!--        <mat-header-cell *matHeaderCellDef mat-sort-header> Color</mat-header-cell>-->
<!--        <mat-cell *matCellDef="let row" [style.color]="row.color" data-label="color"> {{row.color}} </mat-cell>-->
<!--      </ng-container>-->

<!--      <mat-header-row *matHeaderRowDef="displayedColumns"></mat-header-row>-->
<!--      <mat-row *matRowDef="let row; columns: displayedColumns;">-->
<!--      </mat-row>-->
<!--    </mat-table>-->

<!--    <mat-paginator [pageSizeOptions]="[5, 10, 25, 100]"></mat-paginator>-->
<!--  </div>-->
<!--</div>-->

<section class="col-10 space">
  <h1 class="space-title">Teraz gramy</h1>
  <div *ngIf="imagePageAction$ | async as imageDtos">
    <div class="row ">
      <div *ngFor="let element of imageDtos.content">
        <a [routerLink]="['/movie',element.movieDto.id]">
          <img class="poster" src="{{element.poster}}">
        </a>
        <div class=" col-12">
          <h5 class="movieDto-title">{{element.movieDto.title}}</h5>
        </div>
      </div>
    </div>
  </div>
</section>





<!--<body>-->
<!--<section >-->
<!--  <div >-->
<!--    <div class="col-9">-->
<!--        <div *ngIf="moviesPage$ | async  as moviesPage">-->
<!--          <div *ngIf="repertoiresList$ | async as repertoiresList">-->

<!--            <table mat-table [dataSource]="moviesPage.content">-->
<!--              <ng-container matColumnDef="title">-->
<!--                <th mat-header-cell *matHeaderCellDef>-->
<!--                  Co gramy?-->
<!--                </th>-->
<!--                <td  mat-cell *matCellDef="let element">-->
<!--                  {{element.title}}-->
<!--                </td>-->
<!--              </ng-container>-->

<!--              <ng-container>-->
<!--                <th class="size" mat-header-cell *matHeaderCellDef>-->
<!--                  Godziny-->
<!--                </th>-->
<!--                <td  mat-cell *matCellDef="let element">-->
<!--                  <div *ngFor="let repertoire of repertoiresList">-->

<!--                    <div *ngIf="repertoire.movieId== element.id">-->
<!--                      &lt;!&ndash;           {{repertoire.time}}&ndash;&gt;-->
<!--                      <div>-->
<!--                        <button (click)="router.navigate(['movie',element.id, repertoire.id])"-->
<!--                                class="button-time float-left">{{repertoire.time | time}}</button>-->
<!--                      </div>-->
<!--                    </div>-->
<!--                  </div>-->
<!--                </td>-->
<!--              </ng-container>-->

<!--              <ng-container *ngIf="token$ | async" matColumnDef="reservation">-->
<!--                <th mat-header-cell *matHeaderCellDef>-->
<!--                  Rezerwacja-->
<!--                </th>-->
<!--                <td mat-cell *matCellDef="let element">-->
<!--                  <button mat-button (click)="reserve(element)">-->
<!--                    <mat-icon>add_shopping_cart</mat-icon>-->
<!--                  </button>-->
<!--                </td>-->
<!--              </ng-container>-->
<!--              <ng-container matColumnDef="films">-->
<!--                <th mat-header-cell *matHeaderCellDef>-->
<!--                  Zwiastun-->
<!--                </th>-->
<!--                <td mat-cell *matCellDef="let element">-->
<!--                  <a routerLink="/movie/{{element.id}}">-->
<!--                    <mat-icon>play_circle_outline</mat-icon>-->
<!--                  </a>-->
<!--                </td>-->
<!--              </ng-container>-->

<!--              <tr mat-header-row *matHeaderRowDef="displayedColumns">-->
<!--              </tr>-->
<!--              <tr mat-row *matRowDef="let row; columns:displayedColumns;">-->
<!--              </tr>-->
<!--            </table>-->
<!--            <mat-paginator [length]="moviesPage.totalElements" [pageSize]="moviesPage.size" [pageSizeOptions]="[5,10,25]"-->
<!--                           (page)="changePage($event)">-->

<!--            </mat-paginator>-->

<!--        </div>-->


<!--      </div>-->
<!--    </div>-->

<!--  </div>-->
<!--</section>-->
<!--</body>-->
