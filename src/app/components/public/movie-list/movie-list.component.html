<div class="container font container-space">
  <p class="title-movie-list">Repertuar</p>
</div>
<div class="col-9 space" *ngIf="moviesPage$ | async  as moviesPage">
  <div *ngIf="repertoiresList$ | async as repertoiresList">
    <table mat-table [dataSource]="moviesPage.content">
      <!--      <ng-container matColumnDef="id">-->
      <!--        <th mat-header-cell *matHeaderCellDef>-->
      <!--          id-->
      <!--        </th>-->
      <!--        <td mat-cell *matCellDef="let element">-->
      <!--          {{element.id}}-->
      <!--        </td>-->
      <!--      </ng-container>-->
      <ng-container matColumnDef="title">
        <th mat-header-cell *matHeaderCellDef>
          Co gramy?
        </th>
        <td class='title po' mat-cell *matCellDef="let element">
          {{element.title}}
        </td>
      </ng-container>

      <!--    DODAN-->

      <ng-container matColumnDef="hours">
        <th class="size" mat-header-cell *matHeaderCellDef>
          Godziny
        </th>
        <td class='title po' mat-cell *matCellDef="let element">
          <div  *ngFor="let repertoire of repertoiresList">

            <div *ngIf="repertoire.movieId== element.id">
              <!--           {{repertoire.time}}-->
              <div class="raw button-row">
                <button (click)="router.navigate(['movie',element.id, repertoire.id])"
                        class="button-time float-left">{{repertoire.time | time}}</button>
              </div>
            </div>
          </div>
        </td>
      </ng-container>

      <ng-container *ngIf="token$ | async" matColumnDef="reservation">
        <th class="reservation-siz " mat-header-cell *matHeaderCellDef>
          reservation
        </th>
        <td mat-cell *matCellDef="let element">
          <button mat-button (click)="reserve(element)">
            <mat-icon>add_shopping_cart</mat-icon>
          </button>
        </td>
      </ng-container>

<!--      <ng-container *ngIf="currentUser$ | async" matColumnDef="remove">-->
<!--        <th mat-header-cell *matHeaderCellDef>-->
<!--          remove-->
<!--        </th>-->
<!--        <td mat-cell *matCellDef="let element">-->
<!--          <button (click)="remove(element)">-->
<!--            usun-->
<!--          </button>-->
<!--        </td>-->
<!--      </ng-container>-->

<!--      <ng-container *ngIf="currentUser$ | async" matColumnDef="dodaj">-->
<!--        <th mat-header-cell *matHeaderCellDef>-->
<!--          dodaj-->
<!--        </th>-->
<!--        <td mat-cell *matCellDef="let element">-->
<!--          <a routerLink="/repertoire/{{element.id}}">-->
<!--            dodaj-->
<!--          </a>-->
<!--        </td>-->
<!--      </ng-container>-->


<!--      <ng-container *ngIf="currentUser$ | async" matColumnDef="edytuj">-->
<!--        <th mat-header-cell *matHeaderCellDef>-->
<!--          edytuj-->
<!--        </th>-->
<!--        <td mat-cell *matCellDef="let element">-->
<!--          <button (click)="edit(element)">-->
<!--            edytuj-->
<!--          </button>-->
<!--        </td>-->
<!--      </ng-container>-->

      <ng-container matColumnDef="films">
        <!-- matColumnDef - mowi jaka kolumna ma byc wyswetlana powizazna z tablcia strigow w kompoencie-->
        <th class="video-title" mat-header-cell *matHeaderCellDef>
                  zwiastun
        </th>
        <td class="video" mat-cell *matCellDef="let element">
          <a routerLink="/movie/{{element.id}}">
            <mat-icon class = "play">play_circle_outline</mat-icon>
          </a>
        </td>
      </ng-container>
      <tr mat-header-row *matHeaderRowDef="displayedColumns">
      </tr>
      <tr mat-row *matRowDef="let row; columns:displayedColumns;">
      </tr>
    </table>
    <mat-paginator [length]="moviesPage.totalElements" [pageSize]="moviesPage.size" [pageSizeOptions]="[5,10,25]"
                   (page)="changePage($event)">

    </mat-paginator>
  </div>
</div>


<section class="col-10 space">
  <h1 class="space-title">Teraz gramy</h1>
  <div *ngIf="imagePageAction$ | async as imageDtos">
    <div class="row ">
      <div *ngFor="let element of imageDtos.content">
        <a [routerLink]="['/movie',element.movieDto.id]">
          <img class="poster" src="{{element.poster}}">
        </a>
        <div class=" col-12">
          <h5 class="movieDto-title">{{element.movieDto.title}}</h5>
        </div>
      </div>
    </div>
  </div>


  <!--  <div  *ngIf="moviesPage$ | async as moviesPage">-->

  <!--        <div *ngFor="let element of moviesPage.content">-->
  <!--            {{element.title}}-->
  <!--        </div>-->

  <!--&lt;!&ndash;      </ng-container>&ndash;&gt;-->
  <!--&lt;!&ndash;    </table>&ndash;&gt;-->
  <!--  </div>-->


  <!--  <div *ngIf="images$ | async as imageDtos">-->
  <!--    <div *ngFor="let element of imageDtos">-->
  <!--      <img class="image rounded float-left" src="{{element.poster}}">-->
  <!--    </div>-->
  <!--  </div>-->


</section>
